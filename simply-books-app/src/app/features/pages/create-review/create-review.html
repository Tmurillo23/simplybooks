<div class="create-review-container">
  <h2>Crear nueva reseÃ±a</h2>

  <!-- Seleccionar libro -->
  <div class="form-group">
    <label for="book-select">Selecciona un libro:</label>
    <select id="book-select" [(ngModel)]="selectedBookId">
      <option value="" disabled selected>-- Elige un libro --</option>
      @for (book of availableBooks; track book.id) {
        <option [value]="book.id">{{ book.title }}</option>
      }
    </select>
  </div>

  <!-- TÃ­tulo de la reseÃ±a -->
  <div class="form-group">
    <label for="review-title">TÃ­tulo de la reseÃ±a:</label>
    <input
      id="review-title"
      type="text"
      [(ngModel)]="title"
      placeholder="Ejemplo: Una historia que me inspirÃ³"
    />
  </div>

  <!-- CalificaciÃ³n -->
  <div class="form-group">
    <label>CalificaciÃ³n:</label>
    <div class="stars">
      @for (star of [1,2,3,4,5]; track star) {
        <span
          [class]="star <= rating ? 'filled-star' : 'empty-star'"
          (click)="rating = star"
          [title]="star + ' estrella(s)'"
          aria-label="{{star}} estrellas"
        >â˜…</span>
      }
    </div>
  </div>

  <div class="form-group">
    <label for="review-content">ReseÃ±a:</label>
    <editor
      apiKey="pxpbdo4sfu85q6419mupyj9wdmhonxkw1x2uopi33acnrehl"
      [(ngModel)]="content"
      [init]="{
      height: 300,
      menubar: false,
      plugins: 'lists link image paste help wordcount',
      toolbar: 'undo redo | formatselect | bold italic underline | bullist numlist | link image | removeformat | help',

    }
"
    ></editor>
  </div>


  <!-- Botones de acciÃ³n -->
  <div class="buttons">
    <button type="button" (click)="saveDraft()">ðŸ’¾ Guardar como borrador</button>
    <button type="button" (click)="publishReview()">ðŸš€ Publicar directamente</button>
  </div>

  <!-- Mensaje si no hay libros -->
  @if (availableBooks.length === 0) {
    <p class="no-books-msg">No hay libros disponibles para reseÃ±as.</p>
  }
</div>

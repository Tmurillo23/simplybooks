<div class="following-container">
  <h2>Personas que sigues</h2>

  @if (loading) {
    <div class="loading">Cargando...</div>
  }

  @if (!loading && users.length === 0) {
    <div class="empty">
      <p>No sigues a nadie todavía.</p>
    </div>
  }

  @if (!loading && users.length > 0) {
    <ul class="following-list">
      @for (u of users; track u.id) {
        <li class="following-item">
          <div class="user-info">
            <img class="avatar" [src]="u.avatar || 'assets/default-avatar.png'" [alt]="u.username">

            <div class="user-details">
              <span class="username">{{ u.username }}</span>

              @if (u.biography) {
                <p class="bio">{{ u.biography }}</p>
              }

              <div class="stats">
                <span>{{ u.stats?.booksRead || 0 }} libros</span>
                <span>·</span>
                <span>{{ u.stats?.reviewsCount || 0 }} reseñas</span>
              </div>
            </div>
          </div>

          <button class="btn unfollow" (click)="toggleFollow(u)">
            {{ u.following ? 'Dejar de seguir' : 'Seguir' }}
          </button>
        </li>
      }
    </ul>
  }
</div>
